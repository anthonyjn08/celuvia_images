{% extends "shop/base.html" %}
{% load static %}
{% block content %}
<div class="container my-5">
    <div class="row">
        <div class="col offset-md-1 col-md-10">
            <h2>Vendor Dashboard</h2>
            <p class="lead">Manage your stores and products</p>

            <!-- Add Store button -->
            <a href="{% url 'shop:add_store' %}" class="btn btn-success mb-3">+ Add New Store</a>

            <!-- List of vendor stores -->
            {% if stores %}
                <div class="list-group">
                    {% for store in stores %}
                        <div class="list-group-item d-flex justify-content-between align-items-center">
                            <div>
                                <h5>{{ store.name }}</h5>
                                <p class="mb-0 text-muted">Owner: {{ store.owner.full_name }} | {{ store.email }} | {{ store.phone_number }}</p>
                                {% if store.is_active %}
                                    <span class="badge bg-success">Active</span>
                                {% else %}
                                    <span class="badge bg-secondary">Closed</span>
                                {% endif %}
                            </div>
                            <div>
                                <a href="{% url 'shop:store_detail' store.id %}" class="btn btn-sm btn-primary">Products</a>
                                <a href="{% url 'shop:edit_store' store.id %}" class="btn btn-sm btn-warning">Edit Store</a>
                                {% if store.is_active %}
                                    <a href="{% url 'shop:close_store' store.id %}" class="btn btn-sm btn-danger">Close Store</a>
                                {% else %}
                                    <a href="{% url 'shop:reopen_store' store.id %}" class="btn btn-sm btn-success">Reopen Store</a>
                                {% endif %}
                            </div>
                        </div>
                    {% endfor %}
                </div>
            {% else %}
                <p>You don't have any stores yet.</p>
            {% endif %}
        </div>
    </div>
</div>
{% endblock %}